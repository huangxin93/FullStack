<html>
    <head>
        <title>使用blob在web端到处文件</title>
        <script>
            
            function download_csv(){
                const $csv = document.querySelector('.download_csv');
                let content = 'row1,row2,row3\n 值1,val2,val3\n val4,val5,val6';
                content = encodeURIComponent(content);
                $csv.href = 'data:text/csv;charset=utf-8,' + content;
                $csv.click();
            }

            function download_csv2(){
                const $csv = document.querySelector('.download_csv');
                let content = 'row1,row2,row3\n 值1,val2,val3\n val4,val5,val6';
                // content = '\ufeff'+encodeURIComponent(content);
                const b = new Blob([content],{type:'text/csv;charset=utf-8'});
                const burl = URL.createObjectURL(b);
                $csv.href = burl;
                $csv.click();
            }   
        </script>
    </head>
    <body>
        <a download="test.txt" href="data:text/txt;charset:utf-8,testeaaa,asdasda">下载纯文件</a>
        <a class="download_csv" download="download.csv"></a>
        <a onclick="download_csv()"> 生成csv并下载</a>
        <a onclick="download_csv2()"> 使用Blob生成csv并下载</a>
    </body>
</html>